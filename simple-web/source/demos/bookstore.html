<html>

<head>

</head>

<body>
    <input type="search" id="bookstore-search-input">
    <div id="bookstore-wrapper">

    </div>

    <script type="module">
        import { repeat } from '../tools/repeat.js';
        import { pipeline } from '../tools/pipeline.js';

        const bookstoreSeachInput = document.getElementById('bookstore-search-input');
        const bookstoreWrapper = document.getElementById('bookstore-wrapper');


        // define bookstore pipeline
        const filterBooksPipe = (bookstoreData) => {
            return bookstoreData.filter(book => {

            });
        }

        const renderBooksPipe = (bookstoreData) => {
            repeat(bookstoreWrapper, bookstoreData.books, (book) => `<h2>${book.title}</h2>`);
            return bookstoreData;
        }

        const bookstorePipeline = pipeline({
            searchInput: null,
            books: []
        }, [filterBooksPipe]);

        // symulate async fetch
        setTimeout(() => {
            bookstorePipeline.books = [{title: 'Book1'}, {title: 'Book2'}];
        });

    </script>
</body>

</html>